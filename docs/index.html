<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <title>Página de teste</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/7cfe5d36cb.js" crossorigin="anonymous"></script>
    </head>

    <body>
        <div id="title">
            Olá, mundo!
        </div>

        <button id="switch" onclick="switch_theme()">
            <i class="far fa-sun fa-2x" ></i>
        </button>
    </body>

    <script>

        const styles_keys = [
            '--background',
            '--color',
            '--button-background',
            '--button-color'
        ]

        const light_theme = {
            '--background': 'rgb(255, 255, 255)',
            '--color': 'rgb(0, 0, 0)',
            '--button-background': 'rgb(60, 60, 60)',
            '--button-color': 'rgb(255, 255, 255)',
        }

        const dark_theme = {
            '--background': 'rgb(0, 0, 0)',
            '--color': 'rgb(255, 255, 255)',
            '--button-background': 'rgb(60, 60, 60)',
            '--button-color': 'rgb(255, 255, 255)',
        }

        function switch_theme() {
            // Switch button icon

            const icon = document.querySelector('i')

            if (icon.classList.value.indexOf('fa-sun') !== -1) {
                icon.classList.remove('fa-sun')
                icon.classList.add('fa-moon')
                switch_theme_color('light')
            } else if (icon.classList.value.indexOf('fa-moon') !== -1) {
                icon.classList.remove('fa-moon')
                icon.classList.add('fa-sun')
                switch_theme_color('dark')
            }
        }

        function switch_theme_color(to_theme) {
            const html = document.querySelector('html')

            let to_theme_object
            if (to_theme === 'light') {
                to_theme_object = light_theme
            } else if (to_theme === 'dark') {
                to_theme_object = dark_theme
            }

            styles_keys.forEach((key) => {
                html.style.setProperty(key, to_theme_object[key])
            })
        }

    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

        html {
            --background: rgb(0, 0, 0);
            --color: rgb(255, 255, 255);
            --buton-background: rgb(60, 60, 60);
            --button-color: rgb(255, 255, 255);
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--background);
        }

        #title {
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 0px;
            bottom: 0px;
            font-family: "Roboto", "sans-serif";
            font-size: 25pt;
            color: var(--color)
        }

        #switch {
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            background-color: var(--buton-background);
            border: none;
            outline: none;
        }

        i {
            color: var(--button-color);
        }
    </style>
</html>
